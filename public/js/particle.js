(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
module.exports = {
    MIN_PARTICLE_DIAMETER: 30,
    MAX_PARTICLE_DIAMETER: 300,
    PARTICLE_DECELERATION: 0.92,
    FRAMES: 45,
    BASE_VELOCITY: 0.5,
};

},{}],2:[function(require,module,exports){
var CONSTANTS = require('./constants.js');

module.exports = function(width, height) {

    var opacity =  Math.random() / 5;
    var opacity_increase = (Math.random() + 0.5) < 1 ? true : false;
    var minMaxDiameterDifference = CONSTANTS.MAX_PARTICLE_DIAMETER - CONSTANTS.MIN_PARTICLE_DIAMETER;
    var size = CONSTANTS.MIN_PARTICLE_DIAMETER + (Math.random() * minMaxDiameterDifference);
    var areaWidth = CONSTANTS.MAX_PARTICLE_DIAMETER * 2 + width;
    var areaHeight = CONSTANTS.MAX_PARTICLE_DIAMETER * 2 + height;
    var pos_x = (Math.random() * areaWidth) - CONSTANTS.MAX_PARTICLE_DIAMETER;
    var pos_y = (Math.random() * areaHeight) - CONSTANTS.MAX_PARTICLE_DIAMETER;
    var vel_x = (Math.random() - 0.5) * CONSTANTS.BASE_VELOCITY;
    var vel_y = (Math.random() - 0.5) * CONSTANTS.BASE_VELOCITY;
    var mouse_vel_x = 0;
    var mouse_vel_y = 0;

    function update_opacity() {
        opacity = opacity_increase ? opacity + 0.0005 : opacity - 0.0005;
        if (opacity < 0)
            opacity_increase = true;
        if (opacity > 0.2)
            opacity_increase = false;
    }

    function update_position() {
        var new_pos_x = pos_x + vel_x + mouse_vel_x;
        var new_pos_y = pos_y + vel_y + mouse_vel_y;
        mouse_vel_x *= CONSTANTS.PARTICLE_DECELERATION;
        mouse_vel_y *= CONSTANTS.PARTICLE_DECELERATION;
        pos_x = new_pos_x;
        pos_y = new_pos_y;
        validate_position();
    }

    function add_mouse_velocity(coords) {
        mouse_vel_x += coords.x / 400 / 80 * (size * 2);
        mouse_vel_y += coords.y / 400 / 80 * (size * 2);
        if (circle_hit_detection(pos_x, pos_y, coords.x, coords.y, size)) {
            var new_vel_x = coords.pos_x - pos_x;
            var new_vel_y = coords.pos_y - pos_y;
            mouse_vel_x -= new_vel_x / 20;
            mouse_vel_y -= new_vel_y / 20;
        }
    }

    function circle_hit_detection(center_x, center_y, pos_x, pos_y, size) {
        var dis_x = center_x - pos_x;
        var dis_y = center_y - pos_y;
        var distance = Math.sqrt(dis_x * dis_x + dis_y * dis_y);
        if (distance < (size / 2))
            return true;
        else
            return false;
    }

    function square_hit_detection(center_x, center_y, pos_x, pos_y, size) {
        var min_x = center_x - (size / 2);
        var max_x = center_x + (size / 2);
        var min_y = center_y - (size / 2);
        var max_y = center_y + (size / 2);
        if (pos_x > min_x && pos_x < max_x && pos_y > min_y && pos_y < max_y)
            return true;
        else
            return false;
    }

    function validate_position() {
        if (pos_x < - CONSTANTS.MAX_PARTICLE_DIAMETER)
            pos_x = width + CONSTANTS.MAX_PARTICLE_DIAMETER;
        else if (pos_x > (width + CONSTANTS.MAX_PARTICLE_DIAMETER))
            pos_x = - CONSTANTS.MAX_PARTICLE_DIAMETER;
        else if (pos_y < - CONSTANTS.MAX_PARTICLE_DIAMETER)
            pos_y = height + CONSTANTS.MAX_PARTICLE_DIAMETER;
        else if (pos_y > (height + CONSTANTS.MAX_PARTICLE_DIAMETER))
            pos_t = - CONSTANTS.MAX_PARTICLE_DIAMETER;
    }

    function draw(ctx) {
        ctx.beginPath();
        ctx.fillStyle = 'hsla(0, 100%, 100%,'+ opacity +')';
        ctx.arc(pos_x,pos_y,size, 0, Math.PI * 2);
        ctx.fill();
    }

    return {
        opacity: opacity,
        pos_x: pos_x,
        pos_y: pos_y,
        size: size,
        update_opacity: update_opacity,
        update_position: update_position,
        add_mouse_velocity: add_mouse_velocity,
        draw: draw
    };
};

},{"./constants.js":1}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvVXNlcnMvZWxsaW90dC9wcm9qZWN0cy9wYXJ0aWNsZS1iYWNrZ3JvdW5kL3NjcmlwdHMvY29uc3RhbnRzLmpzIiwiL1VzZXJzL2VsbGlvdHQvcHJvamVjdHMvcGFydGljbGUtYmFja2dyb3VuZC9zY3JpcHRzL3BhcnRpY2xlLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUEsTUFBTSxDQUFDLE9BQU8sR0FBRztJQUNiLHFCQUFxQixFQUFFLEVBQUU7SUFDekIscUJBQXFCLEVBQUUsR0FBRztJQUMxQixxQkFBcUIsRUFBRSxJQUFJO0lBQzNCLE1BQU0sRUFBRSxFQUFFO0lBQ1YsYUFBYSxFQUFFLEdBQUc7Q0FDckIsQ0FBQzs7O0FDTkYsSUFBSSxTQUFTLEdBQUcsT0FBTyxDQUFDLGdCQUFnQixDQUFDLENBQUM7O0FBRTFDLE1BQU0sQ0FBQyxPQUFPLEdBQUcsU0FBUyxLQUFLLEVBQUUsTUFBTSxFQUFFOztJQUVyQyxJQUFJLE9BQU8sSUFBSSxJQUFJLENBQUMsTUFBTSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0lBQ2pDLElBQUksZ0JBQWdCLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxJQUFJLEdBQUcsS0FBSyxDQUFDO0lBQ2hFLElBQUksd0JBQXdCLEdBQUcsU0FBUyxDQUFDLHFCQUFxQixHQUFHLFNBQVMsQ0FBQyxxQkFBcUIsQ0FBQztJQUNqRyxJQUFJLElBQUksR0FBRyxTQUFTLENBQUMscUJBQXFCLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFHLHdCQUF3QixDQUFDLENBQUM7SUFDeEYsSUFBSSxTQUFTLEdBQUcsU0FBUyxDQUFDLHFCQUFxQixHQUFHLENBQUMsR0FBRyxLQUFLLENBQUM7SUFDNUQsSUFBSSxVQUFVLEdBQUcsU0FBUyxDQUFDLHFCQUFxQixHQUFHLENBQUMsR0FBRyxNQUFNLENBQUM7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QUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxJQUFJLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQzFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNuQixLQUFLOztJQUVELE9BQU87UUFDSCxPQUFPLEVBQUUsT0FBTztRQUNoQixLQUFLLEVBQUUsS0FBSztRQUNaLEtBQUssRUFBRSxLQUFLO1FBQ1osSUFBSSxFQUFFLElBQUk7UUFDVixjQUFjLEVBQUUsY0FBYztRQUM5QixlQUFlLEVBQUUsZUFBZTtRQUNoQyxrQkFBa0IsRUFBRSxrQkFBa0I7UUFDdEMsSUFBSSxFQUFFLElBQUk7S0FDYixDQUFDO0NBQ0wsQ0FBQyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJtb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBNSU5fUEFSVElDTEVfRElBTUVURVI6IDMwLFxuICAgIE1BWF9QQVJUSUNMRV9ESUFNRVRFUjogMzAwLFxuICAgIFBBUlRJQ0xFX0RFQ0VMRVJBVElPTjogMC45MixcbiAgICBGUkFNRVM6IDQ1LFxuICAgIEJBU0VfVkVMT0NJVFk6IDAuNSxcbn07XG4iLCJ2YXIgQ09OU1RBTlRTID0gcmVxdWlyZSgnLi9jb25zdGFudHMuanMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0KSB7XG5cbiAgICB2YXIgb3BhY2l0eSA9ICBNYXRoLnJhbmRvbSgpIC8gNTtcbiAgICB2YXIgb3BhY2l0eV9pbmNyZWFzZSA9IChNYXRoLnJhbmRvbSgpICsgMC41KSA8IDEgPyB0cnVlIDogZmFsc2U7XG4gICAgdmFyIG1pbk1heERpYW1ldGVyRGlmZmVyZW5jZSA9IENPTlNUQU5UUy5NQVhfUEFSVElDTEVfRElBTUVURVIgLSBDT05TVEFOVFMuTUlOX1BBUlRJQ0xFX0RJQU1FVEVSO1xuICAgIHZhciBzaXplID0gQ09OU1RBTlRTLk1JTl9QQVJUSUNMRV9ESUFNRVRFUiArIChNYXRoLnJhbmRvbSgpICogbWluTWF4RGlhbWV0ZXJEaWZmZXJlbmNlKTtcbiAgICB2YXIgYXJlYVdpZHRoID0gQ09OU1RBTlRTLk1BWF9QQVJUSUNMRV9ESUFNRVRFUiAqIDIgKyB3aWR0aDtcbiAgICB2YXIgYXJlYUhlaWdodCA9IENPTlNUQU5UUy5NQVhfUEFSVElDTEVfRElBTUVURVIgKiAyICsgaGVpZ2h0O1xuICAgIHZhciBwb3NfeCA9IChNYXRoLnJhbmRvbSgpICogYXJlYVdpZHRoKSAtIENPTlNUQU5UUy5NQVhfUEFSVElDTEVfRElBTUVURVI7XG4gICAgdmFyIHBvc195ID0gKE1hdGgucmFuZG9tKCkgKiBhcmVhSGVpZ2h0KSAtIENPTlNUQU5UUy5NQVhfUEFSVElDTEVfRElBTUVURVI7XG4gICAgdmFyIHZlbF94ID0gKE1hdGgucmFuZG9tKCkgLSAwLjUpICogQ09OU1RBTlRTLkJBU0VfVkVMT0NJVFk7XG4gICAgdmFyIHZlbF95ID0gKE1hdGgucmFuZG9tKCkgLSAwLjUpICogQ09OU1RBTlRTLkJBU0VfVkVMT0NJVFk7XG4gICAgdmFyIG1vdXNlX3ZlbF94ID0gMDtcbiAgICB2YXIgbW91c2VfdmVsX3kgPSAwO1xuXG4gICAgZnVuY3Rpb24gdXBkYXRlX29wYWNpdHkoKSB7XG4gICAgICAgIG9wYWNpdHkgPSBvcGFjaXR5X2luY3JlYXNlID8gb3BhY2l0eSArIDAuMDAwNSA6IG9wYWNpdHkgLSAwLjAwMDU7XG4gICAgICAgIGlmIChvcGFjaXR5IDwgMClcbiAgICAgICAgICAgIG9wYWNpdHlfaW5jcmVhc2UgPSB0cnVlO1xuICAgICAgICBpZiAob3BhY2l0eSA+IDAuMilcbiAgICAgICAgICAgIG9wYWNpdHlfaW5jcmVhc2UgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB1cGRhdGVfcG9zaXRpb24oKSB7XG4gICAgICAgIHZhciBuZXdfcG9zX3ggPSBwb3NfeCArIHZlbF94ICsgbW91c2VfdmVsX3g7XG4gICAgICAgIHZhciBuZXdfcG9zX3kgPSBwb3NfeSArIHZlbF95ICsgbW91c2VfdmVsX3k7XG4gICAgICAgIG1vdXNlX3ZlbF94ICo9IENPTlNUQU5UUy5QQVJUSUNMRV9ERUNFTEVSQVRJT047XG4gICAgICAgIG1vdXNlX3ZlbF95ICo9IENPTlNUQU5UUy5QQVJUSUNMRV9ERUNFTEVSQVRJT047XG4gICAgICAgIHBvc194ID0gbmV3X3Bvc194O1xuICAgICAgICBwb3NfeSA9IG5ld19wb3NfeTtcbiAgICAgICAgdmFsaWRhdGVfcG9zaXRpb24oKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZGRfbW91c2VfdmVsb2NpdHkoY29vcmRzKSB7XG4gICAgICAgIG1vdXNlX3ZlbF94ICs9IGNvb3Jkcy54IC8gNDAwIC8gODAgKiAoc2l6ZSAqIDIpO1xuICAgICAgICBtb3VzZV92ZWxfeSArPSBjb29yZHMueSAvIDQwMCAvIDgwICogKHNpemUgKiAyKTtcbiAgICAgICAgaWYgKGNpcmNsZV9oaXRfZGV0ZWN0aW9uKHBvc194LCBwb3NfeSwgY29vcmRzLngsIGNvb3Jkcy55LCBzaXplKSkge1xuICAgICAgICAgICAgdmFyIG5ld192ZWxfeCA9IGNvb3Jkcy5wb3NfeCAtIHBvc194O1xuICAgICAgICAgICAgdmFyIG5ld192ZWxfeSA9IGNvb3Jkcy5wb3NfeSAtIHBvc195O1xuICAgICAgICAgICAgbW91c2VfdmVsX3ggLT0gbmV3X3ZlbF94IC8gMjA7XG4gICAgICAgICAgICBtb3VzZV92ZWxfeSAtPSBuZXdfdmVsX3kgLyAyMDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNpcmNsZV9oaXRfZGV0ZWN0aW9uKGNlbnRlcl94LCBjZW50ZXJfeSwgcG9zX3gsIHBvc195LCBzaXplKSB7XG4gICAgICAgIHZhciBkaXNfeCA9IGNlbnRlcl94IC0gcG9zX3g7XG4gICAgICAgIHZhciBkaXNfeSA9IGNlbnRlcl95IC0gcG9zX3k7XG4gICAgICAgIHZhciBkaXN0YW5jZSA9IE1hdGguc3FydChkaXNfeCAqIGRpc194ICsgZGlzX3kgKiBkaXNfeSk7XG4gICAgICAgIGlmIChkaXN0YW5jZSA8IChzaXplIC8gMikpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNxdWFyZV9oaXRfZGV0ZWN0aW9uKGNlbnRlcl94LCBjZW50ZXJfeSwgcG9zX3gsIHBvc195LCBzaXplKSB7XG4gICAgICAgIHZhciBtaW5feCA9IGNlbnRlcl94IC0gKHNpemUgLyAyKTtcbiAgICAgICAgdmFyIG1heF94ID0gY2VudGVyX3ggKyAoc2l6ZSAvIDIpO1xuICAgICAgICB2YXIgbWluX3kgPSBjZW50ZXJfeSAtIChzaXplIC8gMik7XG4gICAgICAgIHZhciBtYXhfeSA9IGNlbnRlcl95ICsgKHNpemUgLyAyKTtcbiAgICAgICAgaWYgKHBvc194ID4gbWluX3ggJiYgcG9zX3ggPCBtYXhfeCAmJiBwb3NfeSA+IG1pbl95ICYmIHBvc195IDwgbWF4X3kpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlX3Bvc2l0aW9uKCkge1xuICAgICAgICBpZiAocG9zX3ggPCAtIENPTlNUQU5UUy5NQVhfUEFSVElDTEVfRElBTUVURVIpXG4gICAgICAgICAgICBwb3NfeCA9IHdpZHRoICsgQ09OU1RBTlRTLk1BWF9QQVJUSUNMRV9ESUFNRVRFUjtcbiAgICAgICAgZWxzZSBpZiAocG9zX3ggPiAod2lkdGggKyBDT05TVEFOVFMuTUFYX1BBUlRJQ0xFX0RJQU1FVEVSKSlcbiAgICAgICAgICAgIHBvc194ID0gLSBDT05TVEFOVFMuTUFYX1BBUlRJQ0xFX0RJQU1FVEVSO1xuICAgICAgICBlbHNlIGlmIChwb3NfeSA8IC0gQ09OU1RBTlRTLk1BWF9QQVJUSUNMRV9ESUFNRVRFUilcbiAgICAgICAgICAgIHBvc195ID0gaGVpZ2h0ICsgQ09OU1RBTlRTLk1BWF9QQVJUSUNMRV9ESUFNRVRFUjtcbiAgICAgICAgZWxzZSBpZiAocG9zX3kgPiAoaGVpZ2h0ICsgQ09OU1RBTlRTLk1BWF9QQVJUSUNMRV9ESUFNRVRFUikpXG4gICAgICAgICAgICBwb3NfdCA9IC0gQ09OU1RBTlRTLk1BWF9QQVJUSUNMRV9ESUFNRVRFUjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkcmF3KGN0eCkge1xuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSAnaHNsYSgwLCAxMDAlLCAxMDAlLCcrIG9wYWNpdHkgKycpJztcbiAgICAgICAgY3R4LmFyYyhwb3NfeCxwb3NfeSxzaXplLCAwLCBNYXRoLlBJICogMik7XG4gICAgICAgIGN0eC5maWxsKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgb3BhY2l0eTogb3BhY2l0eSxcbiAgICAgICAgcG9zX3g6IHBvc194LFxuICAgICAgICBwb3NfeTogcG9zX3ksXG4gICAgICAgIHNpemU6IHNpemUsXG4gICAgICAgIHVwZGF0ZV9vcGFjaXR5OiB1cGRhdGVfb3BhY2l0eSxcbiAgICAgICAgdXBkYXRlX3Bvc2l0aW9uOiB1cGRhdGVfcG9zaXRpb24sXG4gICAgICAgIGFkZF9tb3VzZV92ZWxvY2l0eTogYWRkX21vdXNlX3ZlbG9jaXR5LFxuICAgICAgICBkcmF3OiBkcmF3XG4gICAgfTtcbn07XG4iXX0=
