(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
var particle = require('./particle');
var mouse = require('./mouse-event')();

var container = document.getElementById("container");
var width = container.offsetWidth;
var height = container.offsetHeight;
var canvas = document.createElement("CANVAS");
canvas.setAttribute('width', width);
canvas.setAttribute('height', height);
canvas.setAttribute('style', 'position: absolute; background: -webkit-linear-gradient(left, #00BCD4,#9C27B0);');
container.appendChild(canvas);
var ctx = canvas.getContext("2d");
var particles = [];

for(var i = 0; i < 100; i++) {
    particles.push(particle(width, height));
}

setInterval(function(){
    ctx.clearRect(0, 0, width, height);
    for(var i = 0; i < particles.length; i++) {
        var particle = particles[i];
        particle.update_opacity();
        particle.add_mouse_velocity(mouse.movement());
        particle.update_position();
        particle.draw(ctx);
    }
    mouse.update_cursor();

}, 1000/60);

},{"./mouse-event":2,"./particle":3}],2:[function(require,module,exports){
module.exports = function() {

    var cursorX = 0;
    var cursorY = 0;
    var previous_cursorX = 0;
    var previous_cursorY = 0;

    document.onmousemove = function(e){
        cursorX = e.pageX;
        cursorY = e.pageY;
    };

    function update_cursor() {
        previous_cursorX = cursorX;
        previous_cursorY = cursorY;
    }

    function movement() {
        return {
            x: previous_cursorX - cursorX,
            y: previous_cursorY - cursorY,
            pos_x: cursorX,
            pos_y: cursorY
        };
    }

    return {
        update_cursor: update_cursor,
        movement: movement
    };
};

},{}],3:[function(require,module,exports){
module.exports = function(width, height) {

    var opacity =  Math.random() / 5;
    var opacity_increase = (Math.random() + 0.5) < 1 ? true : false;
    var size = Math.random() * 90 + 30;
    var pos_x = (Math.random() * (width + 80)) - 40;
    var pos_y = (Math.random() * (height + 80)) - 40;
    var vel_x = (Math.random() - 0.5) * 0.5;
    var vel_y = (Math.random() - 0.5) * 0.5;
    var mouse_vel_x = 0;
    var mouse_vel_y = 0;

    function update_opacity() {
        opacity = opacity_increase ? opacity + 0.0005 : opacity - 0.0005;
        if (opacity < 0)
            opacity_increase = true;
        if (opacity > 0.2)
            opacity_increase = false;
    }

    function update_position() {
        var new_pos_x = pos_x + vel_x + mouse_vel_x;
        var new_pos_y = pos_y + vel_y + mouse_vel_y;
        mouse_vel_x *= 0.95;
        mouse_vel_y *= 0.95;
        pos_x = new_pos_x;
        pos_y = new_pos_y;
        validate_position();
    }

    function add_mouse_velocity(coords) {
        mouse_vel_x += coords.x / 200 / 80 * (size * 2);
        mouse_vel_y += coords.y / 200 / 80 * (size * 2);
        if (circle_hit_detection(pos_x, pos_y, coords.x, coords.y, size)) {
            var new_vel_x = coords.pos_x - pos_x;
            var new_vel_y = coords.pos_y - pos_y;
            mouse_vel_x -= new_vel_x / 20;
            mouse_vel_y -= new_vel_y / 20;
        }
    }

    function circle_hit_detection(center_x, center_y, pos_x, pos_y, size) {
        var dis_x = center_x - pos_x;
        var dis_y = center_y - pos_y;
        var distance = Math.sqrt(dis_x * dis_x + dis_y * dis_y);
        if (distance < (size / 2))
            return true;
        else
            return false;
    }

    function square_hit_detection(center_x, center_y, pos_x, pos_y, size) {
        var min_x = center_x - (size / 2);
        var max_x = center_x + (size / 2);
        var min_y = center_y - (size / 2);
        var max_y = center_y + (size / 2);
        if (pos_x > min_x && pos_x < max_x && pos_y > min_y && pos_y < max_y)
            return true;
        else
            return false;
    }

    function validate_position() {
        if (pos_x < -90)
            pos_x = width + 90;
        else if (pos_x > (width + 90))
            pos_x = -90;
        else if (pos_y < -90)
            pos_y = height + 90;
        else if (pos_y > (height + 90))
            pos_t = -90;
    }

    function draw(ctx) {
        ctx.beginPath();
        ctx.fillStyle = 'hsla(0, 100%, 100%,'+ opacity +')';
        ctx.arc(pos_x,pos_y,size, 0, Math.PI * 2);
        ctx.fill();
    }

    return {
        opacity: opacity,
        pos_x: pos_x,
        pos_y: pos_y,
        size: size,
        update_opacity: update_opacity,
        update_position: update_position,
        add_mouse_velocity: add_mouse_velocity,
        draw: draw
    };
};

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvVXNlcnMvZWxsaW90dC9wcm9qZWN0cy9wYXJ0aWNsZS1iYWNrZ3JvdW5kL3NjcmlwdHMvbWFpbi5qcyIsIi9Vc2Vycy9lbGxpb3R0L3Byb2plY3RzL3BhcnRpY2xlLWJhY2tncm91bmQvc2NyaXB0cy9tb3VzZS1ldmVudC5qcyIsIi9Vc2Vycy9lbGxpb3R0L3Byb2plY3RzL3BhcnRpY2xlLWJhY2tncm91bmQvc2NyaXB0cy9wYXJ0aWNsZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBLElBQUksUUFBUSxHQUFHLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQztBQUNyQyxJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsZUFBZSxDQUFDLEVBQUUsQ0FBQzs7QUFFdkMsSUFBSSxTQUFTLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxXQUFXLENBQUMsQ0FBQztBQUNyRCxJQUFJLEtBQUssR0FBRyxTQUFTLENBQUMsV0FBVyxDQUFDO0FBQ2xDLElBQUksTUFBTSxHQUFHLFNBQVMsQ0FBQyxZQUFZLENBQUM7QUFDcEMsSUFBSSxNQUFNLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUM5QyxNQUFNLENBQUMsWUFBWSxDQUFDLE9BQU8sRUFBRSxLQUFLLENBQUMsQ0FBQztBQUNwQyxNQUFNLENBQUMsWUFBWSxDQUFDLFFBQVEsRUFBRSxNQUFNLENBQUMsQ0FBQztBQUN0QyxNQUFNLENBQUMsWUFBWSxDQUFDLE9BQU8sRUFBRSxpRkFBaUYsQ0FBQyxDQUFDO0FBQ2hILFNBQVMsQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDOUIsSUFBSSxHQUFHLEdBQUcsTUFBTSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUNsQyxJQUFJLFNBQVMsR0FBRyxFQUFFLENBQUM7O0FBRW5CLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFF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QUFJLEtBQUssR0FBRyxDQUFDLEVBQUU7WUFDWCxLQUFLLEdBQUcsS0FBSyxHQUFHLEVBQUUsQ0FBQzthQUNsQixJQUFJLEtBQUssSUFBSSxLQUFLLEdBQUcsRUFBRSxDQUFDO1lBQ3pCLEtBQUssR0FBRyxDQUFDLEVBQUUsQ0FBQzthQUNYLElBQUksS0FBSyxHQUFHLENBQUMsRUFBRTtZQUNoQixLQUFLLEdBQUcsTUFBTSxHQUFHLEVBQUUsQ0FBQzthQUNuQixJQUFJLEtBQUssSUFBSSxNQUFNLEdBQUcsRUFBRSxDQUFDO1lBQzFCLEtBQUssR0FBRyxDQUFDLEVBQUUsQ0FBQztBQUN4QixLQUFLOztJQUVELFNBQVMsSUFBSSxDQUFDLEdBQUcsRUFBRTtRQUNmLEdBQUcsQ0FBQyxTQUFTLEVBQUUsQ0FBQztRQUNoQixHQUFHLENBQUMsU0FBUyxHQUFHLHFCQUFxQixFQUFFLE9BQU8sRUFBRSxHQUFHLENBQUM7UUFDcEQsR0FBRyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUMxQyxHQUFHLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDbkIsS0FBSzs7SUFFRCxPQUFPO1FBQ0gsT0FBTyxFQUFFLE9BQU87UUFDaEIsS0FBSyxFQUFFLEtBQUs7UUFDWixLQUFLLEVBQUUsS0FBSztRQUNaLElBQUksRUFBRSxJQUFJO1FBQ1YsY0FBYyxFQUFFLGNBQWM7UUFDOUIsZUFBZSxFQUFFLGVBQWU7UUFDaEMsa0JBQWtCLEVBQUUsa0JBQWtCO1FBQ3RDLElBQUksRUFBRSxJQUFJO0tBQ2IsQ0FBQztDQUNMLENBQUMiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwidmFyIHBhcnRpY2xlID0gcmVxdWlyZSgnLi9wYXJ0aWNsZScpO1xudmFyIG1vdXNlID0gcmVxdWlyZSgnLi9tb3VzZS1ldmVudCcpKCk7XG5cbnZhciBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRhaW5lclwiKTtcbnZhciB3aWR0aCA9IGNvbnRhaW5lci5vZmZzZXRXaWR0aDtcbnZhciBoZWlnaHQgPSBjb250YWluZXIub2Zmc2V0SGVpZ2h0O1xudmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJDQU5WQVNcIik7XG5jYW52YXMuc2V0QXR0cmlidXRlKCd3aWR0aCcsIHdpZHRoKTtcbmNhbnZhcy5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIGhlaWdodCk7XG5jYW52YXMuc2V0QXR0cmlidXRlKCdzdHlsZScsICdwb3NpdGlvbjogYWJzb2x1dGU7IGJhY2tncm91bmQ6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KGxlZnQsICMwMEJDRDQsIzlDMjdCMCk7Jyk7XG5jb250YWluZXIuYXBwZW5kQ2hpbGQoY2FudmFzKTtcbnZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xudmFyIHBhcnRpY2xlcyA9IFtdO1xuXG5mb3IodmFyIGkgPSAwOyBpIDwgMTAwOyBpKyspIHtcbiAgICBwYXJ0aWNsZXMucHVzaChwYXJ0aWNsZSh3aWR0aCwgaGVpZ2h0KSk7XG59XG5cbnNldEludGVydmFsKGZ1bmN0aW9uKCl7XG4gICAgY3R4LmNsZWFyUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICBmb3IodmFyIGkgPSAwOyBpIDwgcGFydGljbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBwYXJ0aWNsZSA9IHBhcnRpY2xlc1tpXTtcbiAgICAgICAgcGFydGljbGUudXBkYXRlX29wYWNpdHkoKTtcbiAgICAgICAgcGFydGljbGUuYWRkX21vdXNlX3ZlbG9jaXR5KG1vdXNlLm1vdmVtZW50KCkpO1xuICAgICAgICBwYXJ0aWNsZS51cGRhdGVfcG9zaXRpb24oKTtcbiAgICAgICAgcGFydGljbGUuZHJhdyhjdHgpO1xuICAgIH1cbiAgICBtb3VzZS51cGRhdGVfY3Vyc29yKCk7XG5cbn0sIDEwMDAvNjApO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcblxuICAgIHZhciBjdXJzb3JYID0gMDtcbiAgICB2YXIgY3Vyc29yWSA9IDA7XG4gICAgdmFyIHByZXZpb3VzX2N1cnNvclggPSAwO1xuICAgIHZhciBwcmV2aW91c19jdXJzb3JZID0gMDtcblxuICAgIGRvY3VtZW50Lm9ubW91c2Vtb3ZlID0gZnVuY3Rpb24oZSl7XG4gICAgICAgIGN1cnNvclggPSBlLnBhZ2VYO1xuICAgICAgICBjdXJzb3JZID0gZS5wYWdlWTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gdXBkYXRlX2N1cnNvcigpIHtcbiAgICAgICAgcHJldmlvdXNfY3Vyc29yWCA9IGN1cnNvclg7XG4gICAgICAgIHByZXZpb3VzX2N1cnNvclkgPSBjdXJzb3JZO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1vdmVtZW50KCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogcHJldmlvdXNfY3Vyc29yWCAtIGN1cnNvclgsXG4gICAgICAgICAgICB5OiBwcmV2aW91c19jdXJzb3JZIC0gY3Vyc29yWSxcbiAgICAgICAgICAgIHBvc194OiBjdXJzb3JYLFxuICAgICAgICAgICAgcG9zX3k6IGN1cnNvcllcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB1cGRhdGVfY3Vyc29yOiB1cGRhdGVfY3Vyc29yLFxuICAgICAgICBtb3ZlbWVudDogbW92ZW1lbnRcbiAgICB9O1xufTtcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24od2lkdGgsIGhlaWdodCkge1xuXG4gICAgdmFyIG9wYWNpdHkgPSAgTWF0aC5yYW5kb20oKSAvIDU7XG4gICAgdmFyIG9wYWNpdHlfaW5jcmVhc2UgPSAoTWF0aC5yYW5kb20oKSArIDAuNSkgPCAxID8gdHJ1ZSA6IGZhbHNlO1xuICAgIHZhciBzaXplID0gTWF0aC5yYW5kb20oKSAqIDkwICsgMzA7XG4gICAgdmFyIHBvc194ID0gKE1hdGgucmFuZG9tKCkgKiAod2lkdGggKyA4MCkpIC0gNDA7XG4gICAgdmFyIHBvc195ID0gKE1hdGgucmFuZG9tKCkgKiAoaGVpZ2h0ICsgODApKSAtIDQwO1xuICAgIHZhciB2ZWxfeCA9IChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIDAuNTtcbiAgICB2YXIgdmVsX3kgPSAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiAwLjU7XG4gICAgdmFyIG1vdXNlX3ZlbF94ID0gMDtcbiAgICB2YXIgbW91c2VfdmVsX3kgPSAwO1xuXG4gICAgZnVuY3Rpb24gdXBkYXRlX29wYWNpdHkoKSB7XG4gICAgICAgIG9wYWNpdHkgPSBvcGFjaXR5X2luY3JlYXNlID8gb3BhY2l0eSArIDAuMDAwNSA6IG9wYWNpdHkgLSAwLjAwMDU7XG4gICAgICAgIGlmIChvcGFjaXR5IDwgMClcbiAgICAgICAgICAgIG9wYWNpdHlfaW5jcmVhc2UgPSB0cnVlO1xuICAgICAgICBpZiAob3BhY2l0eSA+IDAuMilcbiAgICAgICAgICAgIG9wYWNpdHlfaW5jcmVhc2UgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB1cGRhdGVfcG9zaXRpb24oKSB7XG4gICAgICAgIHZhciBuZXdfcG9zX3ggPSBwb3NfeCArIHZlbF94ICsgbW91c2VfdmVsX3g7XG4gICAgICAgIHZhciBuZXdfcG9zX3kgPSBwb3NfeSArIHZlbF95ICsgbW91c2VfdmVsX3k7XG4gICAgICAgIG1vdXNlX3ZlbF94ICo9IDAuOTU7XG4gICAgICAgIG1vdXNlX3ZlbF95ICo9IDAuOTU7XG4gICAgICAgIHBvc194ID0gbmV3X3Bvc194O1xuICAgICAgICBwb3NfeSA9IG5ld19wb3NfeTtcbiAgICAgICAgdmFsaWRhdGVfcG9zaXRpb24oKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZGRfbW91c2VfdmVsb2NpdHkoY29vcmRzKSB7XG4gICAgICAgIG1vdXNlX3ZlbF94ICs9IGNvb3Jkcy54IC8gMjAwIC8gODAgKiAoc2l6ZSAqIDIpO1xuICAgICAgICBtb3VzZV92ZWxfeSArPSBjb29yZHMueSAvIDIwMCAvIDgwICogKHNpemUgKiAyKTtcbiAgICAgICAgaWYgKGNpcmNsZV9oaXRfZGV0ZWN0aW9uKHBvc194LCBwb3NfeSwgY29vcmRzLngsIGNvb3Jkcy55LCBzaXplKSkge1xuICAgICAgICAgICAgdmFyIG5ld192ZWxfeCA9IGNvb3Jkcy5wb3NfeCAtIHBvc194O1xuICAgICAgICAgICAgdmFyIG5ld192ZWxfeSA9IGNvb3Jkcy5wb3NfeSAtIHBvc195O1xuICAgICAgICAgICAgbW91c2VfdmVsX3ggLT0gbmV3X3ZlbF94IC8gMjA7XG4gICAgICAgICAgICBtb3VzZV92ZWxfeSAtPSBuZXdfdmVsX3kgLyAyMDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNpcmNsZV9oaXRfZGV0ZWN0aW9uKGNlbnRlcl94LCBjZW50ZXJfeSwgcG9zX3gsIHBvc195LCBzaXplKSB7XG4gICAgICAgIHZhciBkaXNfeCA9IGNlbnRlcl94IC0gcG9zX3g7XG4gICAgICAgIHZhciBkaXNfeSA9IGNlbnRlcl95IC0gcG9zX3k7XG4gICAgICAgIHZhciBkaXN0YW5jZSA9IE1hdGguc3FydChkaXNfeCAqIGRpc194ICsgZGlzX3kgKiBkaXNfeSk7XG4gICAgICAgIGlmIChkaXN0YW5jZSA8IChzaXplIC8gMikpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNxdWFyZV9oaXRfZGV0ZWN0aW9uKGNlbnRlcl94LCBjZW50ZXJfeSwgcG9zX3gsIHBvc195LCBzaXplKSB7XG4gICAgICAgIHZhciBtaW5feCA9IGNlbnRlcl94IC0gKHNpemUgLyAyKTtcbiAgICAgICAgdmFyIG1heF94ID0gY2VudGVyX3ggKyAoc2l6ZSAvIDIpO1xuICAgICAgICB2YXIgbWluX3kgPSBjZW50ZXJfeSAtIChzaXplIC8gMik7XG4gICAgICAgIHZhciBtYXhfeSA9IGNlbnRlcl95ICsgKHNpemUgLyAyKTtcbiAgICAgICAgaWYgKHBvc194ID4gbWluX3ggJiYgcG9zX3ggPCBtYXhfeCAmJiBwb3NfeSA+IG1pbl95ICYmIHBvc195IDwgbWF4X3kpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlX3Bvc2l0aW9uKCkge1xuICAgICAgICBpZiAocG9zX3ggPCAtOTApXG4gICAgICAgICAgICBwb3NfeCA9IHdpZHRoICsgOTA7XG4gICAgICAgIGVsc2UgaWYgKHBvc194ID4gKHdpZHRoICsgOTApKVxuICAgICAgICAgICAgcG9zX3ggPSAtOTA7XG4gICAgICAgIGVsc2UgaWYgKHBvc195IDwgLTkwKVxuICAgICAgICAgICAgcG9zX3kgPSBoZWlnaHQgKyA5MDtcbiAgICAgICAgZWxzZSBpZiAocG9zX3kgPiAoaGVpZ2h0ICsgOTApKVxuICAgICAgICAgICAgcG9zX3QgPSAtOTA7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZHJhdyhjdHgpIHtcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICBjdHguZmlsbFN0eWxlID0gJ2hzbGEoMCwgMTAwJSwgMTAwJSwnKyBvcGFjaXR5ICsnKSc7XG4gICAgICAgIGN0eC5hcmMocG9zX3gscG9zX3ksc2l6ZSwgMCwgTWF0aC5QSSAqIDIpO1xuICAgICAgICBjdHguZmlsbCgpO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIG9wYWNpdHk6IG9wYWNpdHksXG4gICAgICAgIHBvc194OiBwb3NfeCxcbiAgICAgICAgcG9zX3k6IHBvc195LFxuICAgICAgICBzaXplOiBzaXplLFxuICAgICAgICB1cGRhdGVfb3BhY2l0eTogdXBkYXRlX29wYWNpdHksXG4gICAgICAgIHVwZGF0ZV9wb3NpdGlvbjogdXBkYXRlX3Bvc2l0aW9uLFxuICAgICAgICBhZGRfbW91c2VfdmVsb2NpdHk6IGFkZF9tb3VzZV92ZWxvY2l0eSxcbiAgICAgICAgZHJhdzogZHJhd1xuICAgIH07XG59O1xuIl19
